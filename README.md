# Fraud Detection — ML Project Template

## **Основная цель**

Построить модель машинного обучения для обнаружения мошеннических транзакций, минимизируя количество ложных срабатываний (false positives) и максимально повышая полноту (recall).
Репозиторий структурирован для итеративной работы в области Data Science и MLOps.

## Связь целей и метрик
- **Метрики**
    - Точность (Precision) ≥ 0.90
	- Полнота (Recall) ≥ 0.85
	- ROC-AUC ≥ 0.95
- **Цели**
    - Повышение Precision → снижение ложных блокировок клиентов  
    - Повышение Recall → уменьшение пропущенных случаев мошенничества  
    - Высокий ROC-AUC → баланс между Precision и Recall 

---

# **Этапы проекта**
1. Анализ данных (EDA)
2. Подготовка данных (feature engineering)
3. Обучение и оптимизация моделей (Logistic Regression, XGBoost)
4. Оценка и сравнение моделей
5. Развёртывание (FastAPI endpoint)
6. Мониторинг и улучшение модели (MLOps)
 

# Декомпозиция проекта (по типам задач)

| **Категория**        | **Задачи**                                                                                   |
|----------------------|----------------------------------------------------------------------------------------------|
| **Инфраструктура**   | Настроить GitHub-репозиторий, структуру проекта, CI/CD пайплайн                              |
| **Подготовка данных**| Загрузить датасет, провести очистку и EDA, устранить дисбаланс классов                        |
| **Моделирование**    | Обучить базовые модели (Logistic Regression, RandomForest, XGBoost)                          |
| **Оценка**           | Вычислить Precision, Recall, ROC-AUC, выбрать лучшую модель                                  |
| **Развёртывание**    | Создать REST API для предсказаний через FastAPI                                              |
| **Мониторинг**       | Отслеживать drift данных и метрики через Evidently AI                                        |
| **Документация**     | Описать цели, метрики, зависимости и инструкции в README                                     |

---

# SMART-задачи проекта

| **№** | **Задача**               | **Формулировка по SMART**                                                                                                     |
|------:|--------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| 1     | Настроить окружение      | До конца дня создать виртуальное окружение и файл `requirements.txt` со всеми зависимостями (Python ≥3.10).                  |
| 2     | Загрузить данные         | До 15 октября загрузить датасет и сохранить его в папку `/data`.                                                              |
| 3     | Провести EDA             | До 16 октября проанализировать распределения, корреляции, пропуски, визуализировать через seaborn/matplotlib.                |
| 4     | Балансировка классов     | До 17 октября протестировать методы oversampling (SMOTE) и undersampling, выбрать лучший вариант.                             |
| 5     | Обучить базовую модель   | До 18 октября обучить Logistic Regression и RandomForest, зафиксировать результаты в MLflow.                                 |
| 6     | Повысить качество модели | До 20 октября достичь Precision ≥ 0.9 и Recall ≥ 0.85 с XGBoost.                                                             |
| 7     | Развернуть API           | До 22 октября создать FastAPI endpoint `/predict`, принимающий JSON-запросы и возвращающий результат предсказания.           |
| 8     | Документировать проект   | До 23 октября оформить `README.md` с целями, метриками и инструкцией запуска.                                                |
| 9     | Настроить CI/CD          | До 24 октября реализовать автоматическое тестирование и сборку Docker-образа через GitHub Actions.                           |
| 10    | Настроить мониторинг     | До 25 октября подключить Evidently AI для мониторинга качества модели и data drift.                                          |


## **Структура репозитория**
```
fraud-detection/
├── data/                  # наборы данных (по умолчанию исключены из git)
│   ├── raw/               # исходные (сырые) данные
│   └── processed/         # очищенные и преобразованные данные
├── notebooks/             # EDA и эксперименты (Jupyter)
├── src/                   # исходный код проекта
│   ├── data_prep.py
│   ├── model_train.py
│   ├── evaluate.py
│   └── api_main.py        # FastAPI-сервис
├── models/                # сохранённые модели (.pkl)
├── tests/                 # модульные тесты (pytest)
├── .github/workflows/ci.yml  # линтинг + тесты + сборка Docker-образа
├── requirements.txt
├── .gitignore
└── README.md
```
---
## **Запуск**

- Создание и активация виртуального окружения

```python3 -m venv .venv && source .venv/bin/activate```

```pip install -r requirements.txt```

- Подготовка данных

Разместить CSV-файл в `data/raw/transactions.csv`
(или обновить путь в `src/data_prep.py`).

- Подготовка данных и обучению модели
```
python -m src.data_prep
python -m src.model_train
python -m src.evaluate
```

- Запуск API (сервиса модели)

uvicorn src.api_main:app --reload --port 8000
 ```POST /predict с JSON-параметром: {"features": [ ... ]}```

- Запуск тестов и линтинга локально
```
pytest -q
ruff check .
```
---

## Используемые инструменты
- Python, 
- pandas, 
- scikit-learn, 
- XGBoost, 
- MLflow, 
- FastAPI, 
- Docker

## **Источники**
	Fraud Detection Handbook — https://fraud-detection-handbook.github.io/fraud-detection-handbook/Chapter_2_Background/Introduction.html